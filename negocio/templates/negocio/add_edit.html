{% extends "templates/layout.html" %}
{% load static %}
{% block title %}
  Añadir Negocio
{% endblock title %}
{% block body %}
  <div class="container">
    <h2 class="mb-3">Añadir Negocio</h2>
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <section class="row">
        <div class="col-12 col-lg-6 mb-3">{{ form.nombre.label_tag }} {{ form.nombre }}</div>
        <div class="col-12 col-lg-6 mb-3">{{ form.nombre_fiscal.label_tag }} {{ form.nombre_fiscal }}</div>
      </section>
      <section class="row">
        <div class="col-12 col-lg-4 mb-3">{{ form.rfc.label_tag }} {{ form.rfc }}</div>
        <div class="col-12 col-lg-4 mb-3">{{ form.regimen_fiscal.label_tag }} {{ form.regimen_fiscal }}</div>
        <div class="col-12 col-lg-4 mb-3">{{ form.logo.label_tag }} {{ form.logo }}</div>
      </section>
      <section class="row">
        <div class="col-12 col-lg-3 mb-3">{{ form.direccion.label_tag }} {{ form.direccion }}</div>
        <div class="col-12 col-lg-3 mb-3">{{ form.telefono.label_tag }} {{ form.telefono }}</div>
        <div class="col-12 col-lg-3 mb-3">{{ form.email.label_tag }} {{ form.email }}</div>
        <div class="col-12 col-lg-3 mb-3">{{ form.codigo_postal.label_tag }} {{ form.codigo_postal }}</div>
      </section>
      <h4>Contactos del Negocio</h4>
      {{ setform.management_form }}
      {% for form in setform %}
        <h5 class="title-contacto">Contacto #{{ forloop.counter }}</h5>
        <div class="row">
          <div class="col-12 col-lg-4 mb-3">{{ form.nombre.label_tag }} {{ form.nombre }}</div>
          <div class="col-12 col-lg-4 mb-3">{{ form.email.label_tag }} {{ form.email }}</div>
          <div class="col-12 col-lg-4 mb-3">{{ form.telefono.label_tag }} {{ form.telefono }}</div>
        </div>
        {% if form.instance.pk %}
          <div class="form-check">
            {{ form.DELETE }}
            <label class="form-check-label" for="{{ form.DELETE.id_for_label }}">Eliminar</label>
          </div>
        {% endif %}
      {% endfor %}
      <section class="mb-3 d-flex gap-2">
        <button type="button" class="btn btn-secondary col-6" id="addContacto">Añadir Contacto</button>
        <button type="button"
                class="btn btn-danger col-6"
                id="deleteContacto"
                disabled>Borrar Contacto</button>
      </section>
      <button type="submit" class="btn btn-primary w-100">Guardar</button>
    </form>
  </div>
{% endblock body %}
